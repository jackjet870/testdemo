!function(){"use strict";var e={options:{urls:{},messages:App.str.text("Messages"),strings:App.str.text("StringContents")},values:{},events:{defaults:{initialize:{},getParameters:{},initializeControl:{},initializeControlEvent:{},loadMasterData:{},loadData:{},loadDialogs:{},createValidator:{},validateAll:{},transfer:{}}},operations:{defaults:{}},loginForm:{options:{urls:{},validations:{},bindOption:{}},values:{},events:{defaults:{initialize:{},createFilter:{},change:{}}},operations:{defaults:{search:{}}}},dialogs:{}};e.events.defaults.initialize=function(){var t=$.Deferred();return e.notify=App.ui.page.notify(),App.ui.loading.show(),e.events.defaults.getParameters(),e.events.defaults.initializeControl(),e.events.defaults.initializeControlEvent(),e.loginForm.events.defaults.initialize(),e.events.defaults.loadMasterData().then(function(t){return e.events.defaults.loadData()}).then(function(){return e.events.defaults.loadDialogs()}).then(function(){}).fail(function(t){App.ui.page.normalizeError(t).forEach(function(t){e.notify.alert.message(t.message).show()})}).always(function(e){$(":input:visible:not(:disabled):first").focus(),App.ui.loading.close(),t.resolve()}),t.promise()},e.events.defaults.getParameters=function(){},e.events.defaults.initializeControl=function(){},e.events.defaults.initializeControlEvent=function(){App.ui.page.applyCollapsePanel()},e.events.defaults.loadMasterData=function(){return App.async.all({}).then(function(e){e.successes})},e.events.defaults.loadData=function(){return App.async.success()},e.events.defaults.loadDialogs=function(){return App.async.all({}).then(function(e){})},e.events.defaults.createValidator=function(t,a){return e.events.defaults.validationSuccess=e.events.defaults.validationSuccess||App.ui.page.validationSuccess(e.notify),e.events.defaults.validationFail=e.events.defaults.validationFail||App.ui.page.validationFail(e.notify),e.events.defaults.validationAlways=e.events.defaults.validationAlways||App.ui.page.validationAlways(e.notify),App.validation(t,a||{success:e.events.defaults.validationSuccess,fail:e.events.defaults.validationFail,always:e.events.defaults.validationAlways})},e.events.defaults.validateAll=function(){var t=[];return t.push(e.loginForm.validator.validate()),App.async.all(t)},e.loginForm.options.validations={userName:{rules:{required:!0},options:{name:e.options.strings.UserName},messages:{required:e.options.messages.Required}},password:{rules:{required:!0},options:{name:e.options.strings.Password},messages:{required:e.options.messages.Required}}},e.loginForm.options.bindOption={appliers:{},converters:{}},e.loginForm.events.defaults.initialize=function(){var t=$.Deferred(),a=$(".main");e.loginForm.validator=a.validation(e.events.defaults.createValidator(e.loginForm.options.validations),{immediate:!0}),e.loginForm.element=a,App.ui.page.applyInput(a);var n=$(".commands");return n.on("click","#login",e.loginForm.operations.defaults.login),errorMessage.length>0&&e.notify.alert.message(errorMessage).show(),t.promise()},e.loginForm.events.defaults.change=function(){},e.loginForm.operations.defaults.login=function(t){return t.preventDefault(),t.stopImmediatePropagation(),e.loginForm.validator.validate().then(function(){$("#mainform").submit()}),!1},$(document).ready(function(){"test"===App.page.mode?App.page.test.run=function(){e.events.defaults.initialize().then(function(){jasmine.getGlobal().page=e,jasmine.getEnv().execute()})}:e.events.defaults.initialize()}),App.ui.page.extend(e)}();